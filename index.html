<!doctype html>
<html>
      <head>
            <meta charset="utf-8">
            <title>CSCI E-3 Final Project - Film Collector</title>
            <link rel="stylesheet" href="css/style.css">
            <script type="text/javascript" src="js/jquery-1.11.0.js"></script>
            <script type="text/javascript" src="js/jquery.xdomainajax.js"></script>
            <script type="text/javascript" src="js/final_proj.js"></script>
      </head>
      <body>
            <header id='theHeader'>CSCI E-3 Final Project - Film Collector
                <div id="aboutme"></div>
                <div id="helpme">ReadMe</div>
            </header>
            <div id="container">
                  <div id="detailedInfo"></div>
                  <form action="#" id="theForm" name="theForm" autocomplete="off">
                        <fieldset id="theLogin" class="fieldset">
                              <legend class="custom">Login Info</legend>
                              <div>
                                    <label for="username">User Name</label>
                                    <input size="30" placeholder="username" name="username" id="username" type="text"> <span class="hint" id="unameHint">Username
                              is too short (must be at least 3 characters)</span>
                              </div>
                              <div>
                                    <label for="pwd1">Password</label>
                                    <input size="30" required="required" placeholder="password" name="pwd1" id="pwd1" type="password"> <span class="hint" id="pwd1Hint">Password is too short (must be at least 8 characters)</span> <span class="hint" id="pwd1Hint1">Password Does not match existing UserName (must be at least 8 characters)</span>
                              </div>
                              <div id="confirming">
                                    <label for="pwd2">Confirm Password</label>
                                    <input size="30" required="required" placeholder="confirm password" name="pwd2" id="pwd2" type="password"> <span class="hint" id="pwd2Hint">Passwords don't match</span>
                              </div>
                        </fieldset>
                        <br> 
                        <fieldset id="aboutYou" class="fieldset">
                              <legend class="custom">About You</legend>
                              <div>
                                    <label for="email">Email</label>
                                    <input size="30" placeholder="Email Address" name="email" id="email" type="text">
                              </div>
                              <div>
                                    <label for="address">Street Address</label>
                                    <input size="30" placeholder="Street Address" name="address" id="address" type="text">
                              </div>
                              <div>
                                    <label for"zip">Zip or Postal Code</label>
                                    <input placeholder="Postal Code" name="zip" id="zip" type="text">
                              </div>
                              <button type="button" name="button" id='saveProfile'>Save Profile</button>
                        </fieldset>
                        <br>
                        <fieldset class="fieldset">
                              <legend class="custom">Film Enquiry</legend>
                              <!--Actor/Director Name:<br> <input placeholder="Actor Full Name" name="actor" id="actor" type="text"><br>-->
                              <div>
                                    <label for="film">Film Title</label><input placeholder="Film Title" type="text" name="film" id="film" required>
                              </div>
                              <br>
                              <fieldset class='long'>
                                    <button type="button" name="button" id='saveInfo'>Save Info</button>
                                    <button type="button" name="button" id='bio'>Next Bio</button>
                                    <button type="button" name="button" id='clearbio'>Clear Bio</button>                
                              </fieldset>
                        </fieldset>
                  </form>
                  <br>
                  <div id="output1" class='hidden'>
                        <fieldset class='fieldset'><legend>My Film Collection </legend> 
                              <div id="record">
                                    <table id="filmTable">
                                          <tr>
                                                <th>Title</th>
                                                <th>Director(s)</th>
                                                <th>Actor(s)</th>                                 
                                                <th>Genre</th>
                                                <th>Year</th>
                                                <!--<th>Trailer</th>-->
                                          </tr>
                                    </table>
                              </div>
                        </fieldset>
                  </div>
                  <div id="helper" class="hidden">Click Me to display Brief Bio</div>
                  <div id="helper1" class="hidden">Click Me to display Film Overview</div>
                  <div id="nextBiohelper" class="hidden">Demonstrating  the power of JS Closure By cycling through bios of latest film enquiry</div>
                  <div id="output" class="hidden"></div>
            </div>
            <div id="projectInfo">
                  <h2> Final Project for CSCI E-3 : Film Collector</h2>
                  <h3>Summary</h3>
                  <ol>
                        <li> Form validation for User Login and home address completion
                              <ul>
                                    <li>username and passwords are required</li>
                                    <li>email address is optional but if entered it will be validated for correct pattern</li>
                                    <li>postal address is optional but the zip code becomes mandatory if a street name is entered</li>
                                    <li>the address is completed via the Google GEO API </li>
                              </ul>
                        <li> Film/TV shows Enquiry: collection and displaying plot overview and Bio's actors & directors</li>
                        <li> Utilizing LocalStorage capability to store user login info and per user Film Data (title, director, actors, etc)</li>
                        <li> Using AJAX and a AJAX cross domain sharing plugin to call IMDB.com api to collect and scrape pages</li>
                        <li>Limited the development to the material we learned in CSCI E-3 (no Mobile jQuery, Bootstrap, etc)</li>
                  </ol>
                  <h3>Operational Restrictions/requirements & Browser support</h3>
                  <ol>
                        <li> Supports the Latest versions of Chrome, FireFox & Safari (No mobile devices/iPad Support)</li>
                        <li> installing and running from localhost or plain old file system has no know restrictions.</li>
                        <li> webserver like gh-pages running version is at http://rconstantin.github.io/fp-csci-e3 (<a href="http://rconstantin.github.io/fp-csci-e3" target="_blank">film-collector</a>)</li>
                        <li> Need to avoid adding HTTP referrers in the AJAX header request. This causes remote sites to block images to be sent back. PS: HTTPS requests do not include referrers in the request header.
                        <li> gh-pages supports https but FireFox & Chrome will block Mixed Mode security (the IMDB API only supports HTTP at the current time). <bold>Browser Restrictions to overcome referrer problem:</bold>
                             <ul>
                                  <li>Safari: use HTTPS: does allow mixed http modes and runs fine with HTTPS</li>
                                  <li>Chrome: start chrome from the command line with --no-referrers. On a MAC: /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --no-referrers</li>
                                  <li>Firefox includes a flag to disable referrers in the disable drop down menu or through about:config (network.http.sendSecureXSiteReferrer    false)</li>
                              </ul>
                        </li>
                  </ol>
                  <h3> This Final Project Met the following Requirements:</h3>
                  <h4> Form Validation/Improved user experience </h4>
                  <p>Form Validation and (hopefully) improved User Experience: Show/Hide form fields as part of validation
                   logic. For example: start with username and password 1, if both have a valid range, show the confirm
                  password for new users. If user already registered, display uname at top right and retrieve his/her
                  Film List for display.</p>
                  <p>For new users that pass the username/password validation, display next login info block: email/address
                  input fields... email is optional but needs to be validated against a valid pattern
                  Address is optional but ZIP code is required if a street name is entered. the rest of the address is generated
                  using google GEOCODE API.</p>
        
                  <h4>Capturing and handling events</h4>
                  <p>Event handling is used throughout for both user login functionality and Film Info display</p>
        
                 <h4> DOM Manipulation and element creation</h4>
                  <p>Film Display Table uses DOM element creation to dynamically create rows for new saved films. DOM Manipulation was also used in extracting Film and Bio overviews from original IMDB pages</p>
         
                 <h4>Closures</h4>
                  <p>Used in the $('#bio').click((function() {} to circulate through displaying BIO for the different Film
                  Directors and Actors of the latest Film Enquiry</p>
         
                  <h4>AJAX</h4>
                  <p>AJAX is heavily used to collect address information (Google GEO API) and Film Info (IMDB API).
                    To avoid cross origin request blocked problems, I decided to use the YQL Proxy where all the AJAX requests/responses go through YQL (<a href="https://developer.yahoo.com/yql" target="_blank">Go to YQL</a>). To do that, a simple jQuery cross domain plugin (<a href="http://james.padolsey.com/javascript/cross-domain-requests-with-jquery/" target="_blank">xdomain plugin</a>) was adopted for this</p>
                  <h4> High Level Design</h4>
                  <h5>Film Collection Section</h5>
                  <ol>
                        <li> Movie: ajax from imdb's api: "http://www.imdbapi.com/?t=" + $(title).text() with title as input.</li>
                        <ul>
                              <li>display key info about the movie: director, lead actor(s), year, etc.</li>
                              <li>Save Film Info per User (needs login) in a Movie Collection Table.</li>
                        </ul>
                        <li>http://www.imdb.com/xml/find?json=1&nr=1&nm=on&q=firstname+lastname to get Person of Interest POI-ID.</li>
                        <li>given the ID use: http://www.imdb.com/name/<POI-ID>/bio to get the bio info.
                              <ul><li>example: http://www.imdb.com/name/nm0000149/bio (for Jodi Foster)</li></ul>
                        </li>
                        <li>traverse DOM and display only relevant info. Remove unwanted links & image sources</li>
                        <li>Future Enhancement: Film trailer. Either embed or store a link to show trailer on new window</li>
                        <li>use localstorage to store movie info per user</li>
                  </ol>
                  <h5>User Login & Profile Section</h5>
                  <ol>
                        <li>Enhanced User Experience by Show/Hide fields to enter. Once Validated, move to the next set of fields</li>
                        <li> once a username/password are accepted, the username will show up at the top right</li>
                        <li> by clicking on the username, the detailed profile will show up and allow for other options
                              <ul>
                                    <li> click on "update profile" to make changes to email or postal address</li>
                                    <li> click on "switch user" to login as a another user</li>
                              </ul>
                        </li>
                        <li>For simplicity of the design, once the username & password are validated, they cannot be changed</li>
                        <li>user info will be stored in localStorage</li>
                  </ol>
            </div>
      </body>
</html>